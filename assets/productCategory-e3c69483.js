import{ar as c,as as e,at as a}from"./index-34776078.js";const n=c({id:"productCategory",state:()=>({categories:[],category:{},loading:!1,error:null,success:null}),actions:{async fetchCategories(){this.loading=!0;try{const r=await e.get("/product-category/read/any");this.categories=r.data.data}catch(r){this.error=r}this.loading=!1},async fetchCategoriesForDashboard(){this.loading=!0;try{let t=(await e.get("/product-category/read/any")).data.data;t.sort((s,o)=>o.product_count-s.product_count),t=t.splice(0,6),this.categories=t}catch(r){this.error=r}this.loading=!1},async fetchCategoryById(r){this.loading=!0;try{const t=await e.get(`/product-category/${r}`);return this.category=t.data.data,this.category}catch(t){this.error=t}},async fetchRootCategories(){this.loading=!0;try{const r=await e.get("/product-category/read/root");this.categories=r.data.data}catch(r){this.error=r}this.loading=!1},async fetchEmptyCategory(){this.loading=!0;try{const r=await e.get("/product-category/read/no-product");this.categories=r.data.data,this.categories.forEach(t=>{t.name=t.name+" ("+t.product_count+")"})}catch(r){this.error=r}this.loading=!1},async fetchLeafCategories(){this.loading=!0;try{const r=await e.get("/product-category/read/leaf");this.categories=r.data.data,this.categories.forEach(t=>{t.name=t.name+" ("+t.product_count+")"})}catch(r){this.error=r}this.loading=!1},async createCategory(r){this.loading=!0;try{const t=await e.post("/product-category",r);this.categories.push(t.data.data),this.success="Kategori berhasil ditambahkan",a.push({name:"admin-product-category"})}catch(t){t.response&&t.response.status===422&&(this.error=t.response.data.errors),console.error(t)}this.loading=!1},async updateCategory(r){this.loading=!0;try{const t=await e.post(`/product-category/${r.id}`,r);this.success="Kategori berhasil diubah",a.push({name:"admin-product-category"})}catch(t){t.response&&t.response.status===422&&(this.error=t.response.data.errors),console.error(t)}this.loading=!1},async deleteCategory(r){this.loading=!0;try{await e.delete(`/product-category/${r}`),this.success="Kategori berhasil dihapus"}catch(t){this.error=t}this.loading=!1}}});export{n as u};

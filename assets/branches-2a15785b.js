import{u as f}from"./branch-dc095a5f.js";import{O as D,r as T,e as A,o as F,B as N,c as a,i as e,N as i,C as z,l as n,U as r,s as h,F as E,j as V}from"./index-34776078.js";import{V as _,b as R,c as S}from"./VCard-03c594b7.js";import{V as j}from"./VDialog-5a54b9ce.js";import{a as u,V as M}from"./VRow-da07817e.js";import{V as $}from"./VTextField-4ab46247.js";import{V as g}from"./VSwitch-c48ef44d.js";import"./VAvatar-8dc9563c.js";import"./VImg-f830556b.js";import"./index-21eae2e0.js";import"./VOverlay-9b6fe595.js";import"./forwardRefs-e658ad70.js";/* empty css              */import"./VInput-c04ebae8.js";import"./index-284ca4f8.js";import"./VSelectionControl-74f61ac8.js";const H=V("h2",{class:"mb-0"}," Cabang ",-1),K=V("img",{src:"https://i.pinimg.com/originals/94/fd/2b/94fd2bf50097ade743220761f41693d5.gif",style:{width:"100px",height:"80px"}},null,-1),ia={__name:"branches",setup(O){const b=[{text:"Kode",value:"code"},{text:"Nama",value:"name"},{text:"Alamat",value:"address"},{text:"Aktif",value:"is_active"},{text:"Cabang Utama",value:"is_main"},{text:"Urutan Tampil",value:"sort"},{text:"Aksi",value:"operation",width:300}],{branches:v,loading:p,error:q,success:s}=D(f()),{fetchBranches:d,deleteBranch:C,updateActiveBranch:x,updateMainBranch:w}=f();d();async function y(l){confirm("Apakah Anda yakin ingin menghapus cabang ini?")&&(await C(l.id),d())}async function B(l){const o=new FormData;o.append("is_active",l.is_active?1:0),await x(l.id,o),d()}async function k(l){const o=new FormData;o.append("is_main",l.is_main?1:0),await w(l.id,o),d()}const m=T("");return(l,o)=>{const U=A("EasyDataTable");return F(),N(E,null,[a(j,{modelValue:n(s),"onUpdate:modelValue":o[1]||(o[1]=t=>h(s)?s.value=t:null),"max-width":400},{default:e(()=>[a(_,null,{default:e(()=>[a(R,null,{default:e(()=>[i(z(n(s)),1)]),_:1}),a(S,null,{default:e(()=>[a(r,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=!1)},{default:e(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(M,null,{default:e(()=>[a(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[H,a(r,{to:"/admin/konfigurasi-web/cabang/tambah",color:"primary"},{default:e(()=>[i(" Tambah ")]),_:1})]),_:1}),a(u,{cols:"12"},{default:e(()=>[a($,{modelValue:n(m),"onUpdate:modelValue":o[2]||(o[2]=t=>h(m)?m.value=t:null),label:"Cari Cabang",placeholder:"Cari Cabang",clearable:"",loading:n(p),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(_,null,{default:e(()=>[a(U,{headers:b,items:n(v),loading:n(p),"search-value":n(m),"buttons-pagination":"","show-index":""},{loading:e(()=>[K]),"item-is_active":e(t=>[a(g,{modelValue:t.is_active,"onUpdate:modelValue":c=>t.is_active=c,color:"primary",class:"m-5",onChange:()=>B(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-is_main":e(t=>[a(g,{modelValue:t.is_main,"onUpdate:modelValue":c=>t.is_main=c,color:"primary",class:"m-5",onChange:()=>k(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":e(t=>[a(r,{to:`/admin/konfigurasi-web/cabang/ubah/${t.id}`,color:"primary",class:"m-5",size:"small"},{default:e(()=>[i(" Ubah ")]),_:2},1032,["to"]),a(r,{to:`/admin/konfigurasi-web/cabang/${t.id}`,color:"info",size:"small",class:"m-5"},{default:e(()=>[i(" Detail ")]),_:2},1032,["to"]),a(r,{color:"error",size:"small",class:"m-5",onClick:()=>y(t)},{default:e(()=>[i(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ia as default};

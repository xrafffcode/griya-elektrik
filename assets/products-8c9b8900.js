import{u as b}from"./product-e0a82d8b.js";import{O as S,r as _,e as z,o as E,B as I,c as t,i as a,N as o,C as p,l as r,U as n,s as h,j as d,F as H}from"./index-34776078.js";import{V as g,b as k,c as C,a as $}from"./VCard-03c594b7.js";import{V as w}from"./VDialog-5a54b9ce.js";import{a as V,V as G}from"./VRow-da07817e.js";import{V as J}from"./VTextField-4ab46247.js";import{V as y}from"./VSwitch-c48ef44d.js";import"./VAvatar-8dc9563c.js";import"./VImg-f830556b.js";import"./index-21eae2e0.js";import"./VOverlay-9b6fe595.js";import"./forwardRefs-e658ad70.js";/* empty css              */import"./VInput-c04ebae8.js";import"./index-284ca4f8.js";import"./VSelectionControl-74f61ac8.js";const K=["src"],L=d("h2",{class:"mb-0"}," Produk ",-1),M=d("img",{src:"https://i.pinimg.com/originals/94/fd/2b/94fd2bf50097ade743220761f41693d5.gif",style:{width:"100px",height:"80px"}},null,-1),O=d("br",null,null,-1),q=["src","onClick"],pa={__name:"products",setup(Q){const P=[{text:"Kode",value:"code"},{text:"Jenis",value:"category.name",sortable:!0},{text:"Nama",value:"name"},{text:"Thumbnail",value:"thumbnail_url"},{text:"Harga",value:"price"},{text:"Unggulan",value:"is_featured"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:300}],{products:U,loading:v,error:W,success:s}=S(b()),{fetchProducts:m,deleteProduct:D,updateActiveProduct:T,updateFeaturedProduct:A}=b();m();async function F(i){confirm("Apakah Anda yakin ingin menghapus merk ini?")&&(await D(i.id),m())}const u=_(!1),x=_("");function B(i){u.value=!0,x.value=i}async function N(i){const l=new FormData;l.append("is_active",i.is_active?1:0),await T(i.id,l),m()}async function j(i){const l=new FormData;l.append("is_featured",i.is_featured?1:0),await A(i.id,l),m()}const c=_("");return(i,l)=>{const R=z("EasyDataTable");return E(),I(H,null,[t(w,{modelValue:r(s),"onUpdate:modelValue":l[1]||(l[1]=e=>h(s)?s.value=e:null),"max-width":400},{default:a(()=>[t(g,null,{default:a(()=>[t(k,null,{default:a(()=>[o(p(r(s)),1)]),_:1}),t(C,null,{default:a(()=>[t(n,{color:"primary",text:"",onClick:l[0]||(l[0]=()=>s.value=!1)},{default:a(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(w,{modelValue:r(u),"onUpdate:modelValue":l[3]||(l[3]=e=>h(u)?u.value=e:null),"max-width":"500"},{default:a(()=>[t(g,null,{default:a(()=>[t($,null,{default:a(()=>[o(" Gambar ")]),_:1}),t(k,null,{default:a(()=>[d("img",{src:r(x),style:{width:"100%",height:"300px","object-fit":"contain"}},null,8,K)]),_:1}),t(C,null,{default:a(()=>[t(n,{color:"primary",text:"",onClick:l[2]||(l[2]=()=>u.value=!1)},{default:a(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(G,null,{default:a(()=>[t(V,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[L,t(n,{to:"/admin/produk/tambah",color:"primary"},{default:a(()=>[o(" Tambah Produk ")]),_:1})]),_:1}),t(V,{cols:"12"},{default:a(()=>[t(J,{modelValue:r(c),"onUpdate:modelValue":l[4]||(l[4]=e=>h(c)?c.value=e:null),label:"Cari Produk",placeholder:"Cari Produk",clearable:"",loading:r(v),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(V,{cols:"12"},{default:a(()=>[t(g,null,{default:a(()=>[t(R,{headers:P,items:r(U),loading:r(v),"search-value":r(c),"buttons-pagination":"","show-index":""},{loading:a(()=>[M]),"item-name":a(e=>[o(" ("+p(e.brand.name)+") ",1),O,o(" "+p(e.name),1)]),"item-thumbnail_url":a(e=>[d("img",{src:e.thumbnail_url,style:{width:"100px","max-height":"100px",margin:"10px 0",cursor:"pointer","object-fit":"cover"},onClick:()=>B(e.thumbnail_url)},null,8,q)]),"item-price":a(e=>[o(" Rp "+p(e.price.toLocaleString("id-ID")),1)]),"item-is_active":a(e=>[t(y,{modelValue:e.is_active,"onUpdate:modelValue":f=>e.is_active=f,color:"primary",class:"m-5",onChange:()=>N(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-is_featured":a(e=>[t(y,{modelValue:e.is_featured,"onUpdate:modelValue":f=>e.is_featured=f,color:"primary",class:"m-5",onChange:()=>j(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":a(e=>[t(n,{to:`/admin/produk/ubah/${e.id}`,color:"primary",class:"m-5",size:"small"},{default:a(()=>[o(" Ubah ")]),_:2},1032,["to"]),t(n,{to:`/admin/produk/${e.id}`,color:"info",class:"m-5",size:"small"},{default:a(()=>[o(" Detail ")]),_:2},1032,["to"]),t(n,{color:"error",size:"small",class:"m-5",onClick:()=>F(e)},{default:a(()=>[o(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{pa as default};

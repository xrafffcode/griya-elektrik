import{d as T,O as U,r as u,Q as F,R as I,o as y,f as k,i as a,c as e,U as g,N as c,W as S,l as o,P as L,j}from"./index-34776078.js";import{u as B}from"./productBrand-5da39ef4.js";import{a as d,V as f}from"./VRow-da07817e.js";import{V as C,a as E,b as K}from"./VCard-03c594b7.js";import{V as D}from"./VForm-d688bd60.js";import{V as x}from"./VTextField-4ab46247.js";import{V as O}from"./VImg-f830556b.js";import{V as Q}from"./VFileInput-e4543e03.js";/* empty css              */import"./VAvatar-8dc9563c.js";import"./VInput-c04ebae8.js";import"./index-284ca4f8.js";import"./index-21eae2e0.js";import"./forwardRefs-e658ad70.js";import"./VChip-555cf257.js";const W=j("h2",{class:"mb-0"}," Edit Merk Produk ",-1),de={__name:"update-product-brand",setup(q){const N=T(),{loading:s,error:l}=U(B()),{fetchBrandById:w,updateBrand:R}=B(),V=N.params.id,m=u(""),i=u(""),v=u(null),p=u(""),_=u(""),b=async()=>{try{const r=await w(V);m.value=r.code,i.value=r.name,_.value=r.logo_url}catch(r){console.error("Error fetching brand data:",r)}};F(()=>{b()});const h=()=>{b()},M=()=>{R({id:V,code:m.value,name:i.value,logo:v.value})};I(()=>{h(),l.value=null});const P=r=>{const t=r.target.files[0];t&&(v.value=t,p.value=t.name)};return(r,t)=>(y(),k(f,null,{default:a(()=>[e(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[W,e(g,{to:"/admin/merk-produk",color:"error"},{default:a(()=>[c(" Kembali ")]),_:1})]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(C,null,{default:a(()=>[e(D,{onSubmit:S(M,["prevent"])},{default:a(()=>[e(f,null,{default:a(()=>[e(d,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=n=>m.value=n),label:"Code",placeholder:"Kode Merk","error-messages":o(l)&&o(l).code?[o(l).code]:[],disabled:o(s),loading:o(s)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(d,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=n=>i.value=n),label:"Nama",placeholder:"Nama Merk","error-messages":o(l)&&o(l).name?[o(l).name]:[],disabled:o(s),loading:o(s)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(d,{cols:"12",md:"6"},{default:a(()=>[e(C,null,{default:a(()=>[e(E,null,{default:a(()=>[c(" Logo ")]),_:1}),e(K,null,{default:a(()=>[e(f,null,{default:a(()=>[e(d,{cols:"12",md:"12"},{default:a(()=>[_.value?(y(),k(O,{key:0,src:_.value,cover:"",style:{width:"100%",height:"auto"}},null,8,["src"])):L("",!0)]),_:1})]),_:1}),e(f,{cols:"12",md:"12"},{default:a(()=>[e(Q,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=n=>p.value=n),label:"Logo",placeholder:"Pilih Logo","error-messages":o(l)&&o(l).logo?[o(l).logo]:[],onChange:P},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(g,{type:"submit",loading:o(s),color:"primary"},{default:a(()=>[c(" Simpan ")]),_:1},8,["loading"]),e(g,{type:"reset",color:"secondary",variant:"tonal",onClick:h},{default:a(()=>[c(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{de as default};

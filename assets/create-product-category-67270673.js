import{O as R,r as m,R as w,o as _,f as h,i as l,c as a,U as b,N as g,W as K,l as e,s as c,B as O,F as T,G,C as j,j as z}from"./index-34776078.js";import{u as k}from"./productCategory-e3c69483.js";import{a as s,V as x}from"./VRow-da07817e.js";import{V as A}from"./VCard-03c594b7.js";import{V as E}from"./VForm-d688bd60.js";import{V as v}from"./VTextField-4ab46247.js";import{V as D}from"./VFileInput-e4543e03.js";import{V as I}from"./VChip-555cf257.js";import{V as L}from"./VSelect-3916f4d6.js";/* empty css              */import"./VAvatar-8dc9563c.js";import"./VImg-f830556b.js";import"./index-21eae2e0.js";import"./VInput-c04ebae8.js";import"./index-284ca4f8.js";import"./forwardRefs-e658ad70.js";import"./VMenu-5f48dca3.js";import"./VOverlay-9b6fe595.js";import"./VCheckboxBtn-3f0fce29.js";import"./VSelectionControl-74f61ac8.js";const M=z("h2",{class:"mb-0"}," Kategori Produk ",-1),pe={__name:"create-product-category",setup(W){const{categories:S,loading:d,error:o}=R(k()),{fetchEmptyCategory:B,createCategory:F}=k();B();const i=m("AUTO"),n=m(""),u=m(""),V=m(null),f=m(null),p=m(""),y=()=>{i.value="AUTO",n.value="",u.value="",V.value=null,f.value=null,p.value=""},N=()=>{F({code:i.value,name:n.value,parent_id:u.value||null,image:V.value,sort_order:p.value})};w(()=>{y(),o.value=null});const P=C=>{const r=C.target.files[0];r&&(V.value=r)};return(C,r)=>(_(),h(x,null,{default:l(()=>[a(s,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[M,a(b,{to:"/admin/kategori-produk",color:"error"},{default:l(()=>[g(" Kembali ")]),_:1})]),_:1}),a(s,{cols:"12"},{default:l(()=>[a(A,null,{default:l(()=>[a(E,{onSubmit:K(N,["prevent"])},{default:l(()=>[a(x,null,{default:l(()=>[a(s,{cols:"12",md:"6"},{default:l(()=>[a(v,{modelValue:e(i),"onUpdate:modelValue":r[0]||(r[0]=t=>c(i)?i.value=t:null),label:"Code",placeholder:"Kode Kategori","error-messages":e(o)&&e(o).code?[e(o).code]:[],disabled:e(d)},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(v,{modelValue:e(n),"onUpdate:modelValue":r[1]||(r[1]=t=>c(n)?n.value=t:null),label:"Nama",placeholder:"Nama Kategori","error-messages":e(o)&&e(o).name?[e(o).name]:[],disabled:e(d)},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(D,{modelValue:e(f),"onUpdate:modelValue":r[2]||(r[2]=t=>c(f)?f.value=t:null),label:"Gambar",placeholder:"Pilih Gambar","error-messages":e(o)&&e(o).image?[e(o).image]:[],disabled:e(d),"show-size":"",accept:"image/*","prepend-icon":"mdi-camera",onChange:P},{selection:l(({fileNames:t})=>[(_(!0),O(T,null,G(t,U=>(_(),h(I,{key:U,size:"small",label:"",color:"primary",class:"me-2"},{default:l(()=>[g(j(U),1)]),_:2},1024))),128))]),_:1},8,["modelValue","error-messages","disabled"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(L,{modelValue:e(u),"onUpdate:modelValue":r[3]||(r[3]=t=>c(u)?u.value=t:null),label:"Parent",items:[{id:"",name:"No Parent"},...e(S)],"item-title":"name","item-value":"id","error-messages":e(o)&&e(o).parent_id?[e(o).parent_id]:[],disabled:e(d)},null,8,["modelValue","items","error-messages","disabled"])]),_:1}),a(s,{cols:"12",md:"12"},{default:l(()=>[a(v,{modelValue:e(p),"onUpdate:modelValue":r[4]||(r[4]=t=>c(p)?p.value=t:null),label:"Sort Order",placeholder:"Sort Order","error-messages":e(o)&&e(o).sort_order?[e(o).sort_order]:[],disabled:e(d)},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(s,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[a(b,{type:"submit",loading:e(d),color:"primary"},{default:l(()=>[g(" Simpan ")]),_:1},8,["loading"]),a(b,{color:"secondary",variant:"tonal",onClick:y},{default:l(()=>[g(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{pe as default};

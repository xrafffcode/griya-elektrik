import{O as y,r as s,R as J,o as C,f as N,i as a,c as l,U as v,N as n,W,l as e,s as d,B as Z,F as $,G as q,j as M}from"./index-34776078.js";import{E as Q}from"./Editor-f9465631.js";import{u as S}from"./product-e0a82d8b.js";import{u as w}from"./productBrand-5da39ef4.js";import{u as E}from"./productCategory-e3c69483.js";import{a as u,V as B}from"./VRow-da07817e.js";import{V as X}from"./VCard-03c594b7.js";import{V as Y}from"./VForm-d688bd60.js";import{V as h}from"./VTextField-4ab46247.js";import{V as P}from"./VSelect-3916f4d6.js";import{V as K}from"./VFileInput-e4543e03.js";import{a as ee}from"./VInput-c04ebae8.js";/* empty css              */import"./VAvatar-8dc9563c.js";import"./VImg-f830556b.js";import"./index-21eae2e0.js";import"./forwardRefs-e658ad70.js";import"./VMenu-5f48dca3.js";import"./index-284ca4f8.js";import"./VOverlay-9b6fe595.js";import"./VCheckboxBtn-3f0fce29.js";import"./VSelectionControl-74f61ac8.js";import"./VChip-555cf257.js";const le=M("h2",{class:"mb-0"}," Produk ",-1),ae=M("span",null,"Rp",-1),xe={__name:"create-product",setup(oe){const{brands:D}=y(w()),{categories:j}=y(E()),{fetchBrands:A}=w(),{fetchLeafCategories:G}=E();A(),G();const{loading:H,error:o}=y(S()),{createProduct:I}=S(),i=s("AUTO"),p=s(""),c=s(""),_=s(""),k=s(null),b=s(null),f=s(""),m=s(""),x=s(1),R=s(0),g=s([]),V=s([]),T=()=>{i.value="AUTO",p.value="",c.value="",_.value="",k.value=null,b.value=null,f.value="",m.value="",x.value=1,R.value=0,g.value=[],V.value=[]},O=()=>{I({code:i.value,product_category_id:p.value,product_brand_id:c.value,name:_.value,thumbnail:k.value,description:f.value,price:m.value.replace(/\D/g,""),is_active:x.value,is_featured:R.value,product_images:g.value,product_links:V.value})};J(()=>{T(),o.value=null});const z=F=>{const t=F.target.files[0];t&&(k.value=t)};return(F,t)=>(C(),N(B,null,{default:a(()=>[l(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[le,l(v,{to:"/admin/produk",color:"error"},{default:a(()=>[n(" Kembali ")]),_:1})]),_:1}),l(u,{cols:"12"},{default:a(()=>[l(X,null,{default:a(()=>[l(Y,{onSubmit:W(O,["prevent"])},{default:a(()=>[l(B,null,{default:a(()=>[l(u,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:e(i),"onUpdate:modelValue":t[0]||(t[0]=r=>d(i)?i.value=r:null),label:"Code",placeholder:"Kode Kategori","error-messages":e(o)&&e(o).code?[e(o).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:e(_),"onUpdate:modelValue":t[1]||(t[1]=r=>d(_)?_.value=r:null),label:"Nama",placeholder:"Nama Kategori","error-messages":e(o)&&e(o).name?[e(o).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(P,{modelValue:e(p),"onUpdate:modelValue":t[2]||(t[2]=r=>d(p)?p.value=r:null),items:e(j),label:"Kategori",placeholder:"Pilih Kategori","error-messages":e(o)&&e(o).product_category_id?[e(o).product_category_id]:[],"item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(P,{modelValue:e(c),"onUpdate:modelValue":t[3]||(t[3]=r=>d(c)?c.value=r:null),items:e(D),label:"Merk",placeholder:"Pilih Merk","error-messages":e(o)&&e(o).product_brand_id?[e(o).product_brand_id]:[],"item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(h,{modelValue:e(m),"onUpdate:modelValue":t[4]||(t[4]=r=>d(m)?m.value=r:null),label:"Harga",placeholder:"Harga","error-messages":e(o)&&e(o).price?[e(o).price]:[],onInput:t[5]||(t[5]=r=>m.value=e(m).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","))},{prepend:a(()=>[ae]),_:1},8,["modelValue","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:a(()=>[l(K,{modelValue:e(b),"onUpdate:modelValue":t[6]||(t[6]=r=>d(b)?b.value=r:null),label:"Thumbnail",placeholder:"Pilih Thumbnail","error-messages":e(o)&&e(o).thumbnail?[e(o).thumbnail]:[],onChange:z},null,8,["modelValue","error-messages"])]),_:1}),l(u,{cols:"12",md:"12"},{default:a(()=>[l(ee,null,{default:a(()=>[n(" Deskripsi ")]),_:1}),l(e(Q),{modelValue:e(f),"onUpdate:modelValue":t[7]||(t[7]=r=>d(f)?f.value=r:null),"api-key":"n6beu7xtuj1u7n0h0iceun23wfp8deo64vo273d6hbhhw7p9",init:{toolbar_mode:"sliding",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}]}},null,8,["modelValue","init"])]),_:1}),l(u,{cols:"12",md:"12"},{default:a(()=>[l(K,{modelValue:e(g),"onUpdate:modelValue":t[8]||(t[8]=r=>d(g)?g.value=r:null),label:"Gambar",placeholder:"Pilih Gambar","error-messages":e(o)&&e(o).product_images?[e(o).product_images]:[],multiple:""},null,8,["modelValue","error-messages"])]),_:1}),l(u,{cols:"12",md:"4"},{default:a(()=>[l(v,{color:"primary",onClick:t[9]||(t[9]=()=>e(V).push({name:"",url:""}))},{default:a(()=>[n(" Tambah Link Marketplace ")]),_:1})]),_:1}),(C(!0),Z($,null,q(e(V),(r,L)=>(C(),N(u,{key:L,cols:"12",md:"12"},{default:a(()=>[l(B,null,{default:a(()=>[l(u,{cols:"12",md:"5"},{default:a(()=>[l(P,{modelValue:r.name,"onUpdate:modelValue":U=>r.name=U,items:[{name:"Tokopedia"},{name:"Shopee"},{name:"Bukalapak"},{name:"Lazada"},{name:"Blibli"},{name:"Elevenia"},{name:"JD.ID"},{name:"Zalora"},{name:"Lainnya"}],label:"Marketplace",placeholder:"Pilih Marketplace","error-messages":e(o)&&e(o).product_links?[e(o).product_links]:[],"item-title":"name","item-value":"name"},null,8,["modelValue","onUpdate:modelValue","items","error-messages"])]),_:2},1024),l(u,{cols:"12",md:"5"},{default:a(()=>[l(h,{modelValue:r.url,"onUpdate:modelValue":U=>r.url=U,label:"URL",placeholder:"URL"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12",md:"2"},{default:a(()=>[l(v,{color:"error",block:"",size:"x-large",onClick:()=>e(V).splice(L,1)},{default:a(()=>[n(" Hapus ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l(u,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[l(v,{type:"submit",loading:e(H),color:"primary"},{default:a(()=>[n(" Simpan ")]),_:1},8,["loading"]),l(v,{color:"secondary",variant:"tonal",onClick:T},{default:a(()=>[n(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{xe as default};

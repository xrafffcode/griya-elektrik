import{ar as n,as as s,at as e}from"./index-34776078.js";const h=n({id:"branch",state:()=>({branches:[],branch:{},loading:!1,error:null,success:null}),actions:{async fetchBranches(){this.loading=!0;try{const a=await s.get("/branch/read/any");this.branches=a.data.data}catch(a){this.error=a}this.loading=!1},async fetchActiveBranch(){this.loading=!0;try{const a=await s.get("/branch/read/active");this.branches=a.data.data}catch(a){this.error=a}this.loading=!1},async createBranch(a){this.loading=!0;try{const r=await s.post("/branch",a);this.branches.push(r.data.data),this.success="Cabang berhasil ditambahkan",e.push({name:"admin-branch"})}catch(r){r.response&&r.response.status===422&&(this.error=r.response.data.errors),console.error(r)}this.loading=!1},async updateBranch(a){this.loading=!0;try{const r=await s.post(`/branch/${a.id}`,a);this.success="Cabang berhasil diperbarui",e.push({name:"admin-branch"})}catch(r){r.response&&r.response.status===422&&(this.error=r.response.data.errors),console.error(r)}this.loading=!1},async deleteBranch(a){this.loading=!0;try{await s.delete(`/branch/${a}`),this.success="Cabang berhasil dihapus"}catch(r){this.error=r}this.loading=!1},async fetchBranchById(a){try{const r=await s.get(`/branch/${a}`);return this.branch=r.data.data,this.branch}catch(r){this.error=r}this.loading=!1},async fetchMainBranch(){this.loading=!0;try{const a=await s.get("/branch/read/main");return this.branch=a.data.data,this.branch}catch(a){this.error=a}this.loading=!1},async updateActiveBranch(a,r){this.loading=!0;try{const t=await s.post(`/branch/${a}/active`,r);this.success=t.data.message}catch(t){this.error=t}this.loading=!1},async updateMainBranch(a,r){this.loading=!0;try{const t=await s.post(`/branch/${a}/main`,r);this.success=t.data.message}catch(t){this.error=t}this.loading=!1}}});export{h as u};

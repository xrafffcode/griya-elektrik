import{u as M}from"./product-e0a82d8b.js";import{d as O,O as Q,r as o,Q as q,ao as J,o as i,f as b,i as e,c as a,D as T,j as l,B as m,G as k,n as w,F as y,C as x,U as c,N as n,V as d,P as K,ap as X}from"./index-34776078.js";import{a as _,V as D}from"./VRow-da07817e.js";import{V as L}from"./VCard-03c594b7.js";import{V as Z}from"./VDialog-5a54b9ce.js";import{V as ee}from"./VContainer-41f81b86.js";/* empty css              */import"./VAvatar-8dc9563c.js";import"./VImg-f830556b.js";import"./index-21eae2e0.js";import"./VOverlay-9b6fe595.js";import"./forwardRefs-e658ad70.js";const ae={alt:"product image",class:"active-product-image"},te={class:"d-flex image-list"},se=["onClick"],le={class:"product-name"},oe=["innerHTML"],ne=l("h3",{class:"mb-4"}," Beli Sekarang di ",-1),ce={class:"d-flex flex-column"},re={class:"mobile-buy"},ie={class:"d-flex flex-column justify-content-between"},de={class:"d-flex justify-content-end w-100 mb-3"},ue={class:"d-flex flex-column"},me={class:"px-5"},_e=l("h3",{class:"mb-4"}," Bagikan ",-1),pe={class:"d-flex justify-space-between mb-5"},Te={__name:"product",setup(fe){const N=O();Q(M());const{fetchProductBySlug:W}=M(),$=N.params.slug,j=o(""),p=o(""),z=o(""),H=o(""),P=o(""),F=o(""),V=o(""),C=o([]),g=o([]),f=o({}),I=async()=>{var r,u;try{const s=await W($);j.value=s.code,p.value=s.name,z.value=(r=s.category)==null?void 0:r.id,H.value=(u=s.brand)==null?void 0:u.id,P.value=s.price,F.value=s.thumbnail_url,V.value=s.description,C.value=s.product_images,g.value=s.product_links,f.value=s.product_images[0]}catch(s){console.error("Error fetching category data:",s)}};q(()=>{I()});const R=r=>{f.value=r},h=o(!1),E=()=>{h.value=!0},B=()=>{h.value=!1},v=o(!1),U=()=>{v.value=!0},S=()=>{v.value=!1},Y=()=>{const r=`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`;window.open(r,"_blank")},A=()=>{const r=`https://api.whatsapp.com/send?text=${window.location.href}`;window.open(r,"_blank")},G=()=>{navigator.clipboard.writeText(window.location.href),S(),alert("Link berhasil disalin")};return(r,u)=>{const s=J("lazy");return i(),b(ee,{class:"my-5"},{default:e(()=>[a(D,null,{default:e(()=>[a(_,{cols:"12",sm:"12",md:"4",lg:"4"},{default:e(()=>[T(l("img",ae,null,512),[[s,f.value.image_url]]),l("div",te,[(i(!0),m(y,null,k(C.value,t=>T((i(),m("img",{key:t.id,alt:"product image",class:w(["product-image",{active:f.value.id===t.id}]),onClick:he=>R(t)},null,10,se)),[[s,t.image_url]])),128))])]),_:1}),a(_,{cols:"12",sm:"6",md:"5",lg:"5"},{default:e(()=>[l("h2",le,x(p.value),1),l("p",{innerHTML:V.value},null,8,oe)]),_:1}),a(_,{cols:"12",sm:"6",md:"3",lg:"3",class:"d-none d-md-block"},{default:e(()=>[a(L,{variant:"outlined",class:"p-5"},{default:e(()=>[ne,l("div",ce,[(i(!0),m(y,null,k(g.value,t=>(i(),b(c,{key:t.id,href:t.url,target:"_blank",class:w(["p-2 mb-2",t.name])},{default:e(()=>[n(x(t.name),1)]),_:2},1032,["href","class"]))),128)),a(c,{href:`https://wa.me/6285172467248?text=Halo%20saya%20ingin%20memesan%20produk%20${p.value}`,target:"_blank",class:"p-2 mb-2 Whatsapp"},{default:e(()=>[n(" Whatsapp ")]),_:1},8,["href"])])]),_:1})]),_:1})]),_:1}),l("div",re,[a(D,null,{default:e(()=>[a(_,{cols:"5",sm:"5",md:"5"},{default:e(()=>[a(c,{block:"",variant:"outlined",onClick:U},{default:e(()=>[a(d,null,{default:e(()=>[n("mdi-share-variant")]),_:1}),n(" Bagikan ")]),_:1})]),_:1}),a(_,{cols:"7",sm:"7",md:"7"},{default:e(()=>[a(c,{block:"",onClick:E},{default:e(()=>[a(d,null,{default:e(()=>[n("mdi-cart")]),_:1}),n(" Beli Sekarang ")]),_:1})]),_:1})]),_:1})]),h.value?(i(),m("div",{key:0,class:"overlay",onClick:B})):K("",!0),l("div",{class:"buy-modal",style:X({transform:h.value?"translateY(0)":"translateY(100%)"})},[l("div",ie,[l("div",de,[a(d,{onClick:B},{default:e(()=>[n(" mdi-close ")]),_:1})]),l("div",ue,[(i(!0),m(y,null,k(g.value,t=>(i(),b(c,{key:t.id,href:t.url,target:"_blank",rel:"noopener noreferrer",class:w(["p-2 mb-2",t.name])},{default:e(()=>[n(" Beli di "+x(t.name),1)]),_:2},1032,["href","class"]))),128)),a(c,{href:`https://wa.me/6285172467248?text=Halo%20saya%20ingin%20memesan%20produk%20${p.value}`,target:"_blank",class:"p-2 mb-2 Whatsapp"},{default:e(()=>[n(" Whatsapp ")]),_:1},8,["href"])])])],4),a(Z,{modelValue:v.value,"onUpdate:modelValue":u[0]||(u[0]=t=>v.value=t),"max-width":"290"},{default:e(()=>[a(L,null,{default:e(()=>[a(c,{icon:"mdi-close",variant:"text",class:"ml-auto",onClick:S}),l("div",me,[_e,l("div",pe,[a(c,{class:"p-2",onClick:Y},{default:e(()=>[a(d,null,{default:e(()=>[n("mdi-facebook")]),_:1})]),_:1}),a(c,{class:"p-2",onClick:A},{default:e(()=>[a(d,null,{default:e(()=>[n("mdi-whatsapp")]),_:1})]),_:1}),a(c,{class:"p-2",onClick:G},{default:e(()=>[a(d,null,{default:e(()=>[n("mdi-link")]),_:1})]),_:1})])])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{Te as default};

import{ar as o,as as s,at as e}from"./index-34776078.js";const d=o({id:"product",state:()=>({products:[],product:{},loading:!1,error:null,success:null}),actions:{async fetchProducts(){this.loading=!0,this.error=null;try{const r=await s.get("/product/read/any");return this.loading=!1,this.products=r.data.data,this.products}catch(r){this.error=r}this.loading=!1},async fetchFeaturedProducst(){try{const r=await s.get("/product/read/active-featured");return this.loading=!1,r.data.data}catch(r){this.error=r}},async fetchActiveProducts(){try{const r=await s.get("/product/read/active");return this.products=r.data.data,r.data.data}catch(r){this.error=r}this.loading=!1},async fetchProductById(r){this.loading=!0;try{const t=await s.get(`/product/${r}`);return this.product=t.data.data,this.loading=!1,this.product}catch(t){this.error=t}},async fetchProductBySlug(r){this.loading=!0;try{const t=await s.get(`/product/slug/${r}`);return this.product=t.data.data,this.loading=!1,this.product}catch(t){t.response&&t.response.status===404?e.push({name:"not-found"}):this.error=t}},async createProduct(r){this.loading=!0;try{const t=await s.post("/product",r);this.products.push(t.data.data),this.success="Produk berhasil ditambahkan",e.push({name:"admin-product"})}catch(t){t.response&&t.response.status===422&&(this.error=t.response.data.errors),console.error(t)}this.loading=!1},async updateProduct(r){this.loading=!0;try{await s.post(`/product/${r.id}`,r),this.success="Produk berhasil diupdate",e.push({name:"admin-product"})}catch(t){t.response&&t.response.status===422&&(this.error=t.response.data.errors),console.error(t)}this.loading=!1},async deleteProduct(r){this.loading=!0;try{await s.delete(`/product/${r}`),this.success="Produk berhasil dihapus"}catch(t){this.error=t}this.loading=!1},async fetchProductsWithParams(r){this.loading=!0;try{const t=await s.get("/product/read/active",{params:r});this.products=t.data.data}catch(t){this.error=t}this.loading=!1},async updateActiveProduct(r,t){this.loading=!0;try{const a=await s.post(`/product/${r}/active`,t);this.success=a.data.message}catch(a){this.error=a}this.loading=!1},async updateFeaturedProduct(r,t){this.loading=!0;try{const a=await s.post(`/product/${r}/featured`,t);this.success=a.data.message}catch(a){this.error=a}this.loading=!1}}});export{d as u};
